📚 Weaver: 외국 서적 번역본 제작 어플
📝 프로젝트 개요

Weaver는 외국 서적의 페이지를 스캔(PDF 또는 이미지)하여 업로드하면, 원본의 레이아웃과 서식을 유지한 채 사용자가 지정한 언어로 번역된 HTML 파일을 생성해 주는 웹 애플리케이션입니다.
🌟 주요 특징

    다중 모달(Multimodal) 문서 이해: 단순 텍스트 추출을 넘어, PDF 내의 시각적 요소(차트, 표, 다이어그램 등)를 포함한 문서 전체를 이해하고 번역합니다.

    레이아웃 및 서식 보존: 번역된 결과물이 원본 문서의 구조(문단, 목록, 표 등)를 최대한 유지한 HTML 형식으로 제공됩니다.

    대용량 파일 처리: 20MB 이상의 대용량 PDF 파일도 안정적으로 처리할 수 있는 File API를 활용합니다.(최대 50MB까지)

    유연한 확장성: 향후 유료/무료 회원제, PDF 다운로드 등 다양한 기능을 추가할 수 있는 구조로 설계되었습니다.

🛠️ 기술 스택

    백엔드 프레임워크: Django, Django REST Framework (DRF)

    데이터베이스: PostgreSQL (Docker 컨테이너 환경)

    핵심 AI 모델: Google Gemini API (gemini-2.5-flash)

    사용 라이브러리:

        google-genai: Gemini API와의 통신을 위한 공식 Python 라이브러리

        httpx: HTTP 요청 처리를 위한 비동기 라이브러리

        psycopg2-binary: PostgreSQL 데이터베이스 드라이버

✅ 현재까지 구현된 기능

    Django 프로젝트 및 앱 설정: weaver 프로젝트와 mybook 앱을 생성하고, DRF 및 기타 종속성을 설정했습니다.

    데이터베이스 모델: UploadedFile과 TranslatedPage 모델 등 필요한 모델을 정의하고, PostgreSQL DB에 마이그레이션을 적용했습니다.

    파일 업로드 API:

        /upload/ 엔드포인트를 구현하여 사용자의 파일(PDF)을 서버에 업로드할 수 있습니다.

        파일 크기에 따라 자동으로 File API 또는 인라인 전송 방식을 선택하는 GeminiHelper 유틸리티를 구현했습니다.

    Gemini API 호출 로직: 업로드된 파일을 기반으로 Gemini API에 번역 요청을 보내고, 반환된 HTML 콘텐츠를 DB에 저장합니다.

    번역 페이지 렌더링: books/<book_id>/pages/<page_number>/ URL을 통해 저장된 번역본 HTML을 웹 브라우저에 표시합니다.

    간단한 프런트엔드: 파일을 업로드하고 번역 결과를 확인할 수 있는 단일 HTML 페이지를 구현했습니다.

    번역 문서 내 단어 검색 기능이 구현되어 있습니다. 

    번역 문서에 페이지 jump기능이 구현되어 있습니다. 

    사용자의 "내 서재"가 구현되어 있어, 번역된 서적에 쉽게 접근할 수 있습니다. 

    현재 국제화 기능을 추가 중에 있습니다. 

    인증서버(api.mikihands.com)으로 회원가입, 로그인 기능이 구현되어 있습니다. 

    여러페이지의 문서인 경우 페이지별로 나누어 비동기 요청을 api에 보내고 우선 완료된 페이지부터 사용자가 읽을 수 있도록 하는 기능이 구현되어 있습니다. 

🚀 향후 계획

현재의 MVP(Minimum Viable Product)를 기반으로, 다음과 같은 기능들을 추가하여 사용자 경험을 개선할 계획입니다.

    - 이미지 파일 처리: 현재는 PDF 파일만 처리하지만, 이미지 파일(JPG, PNG 등)을 서버에서 PDF로 자동 변환하는 기능을 추가하여 사용성을 높입니다.

    - 사용자 인증 및 권한 관리 :

        유료회원은 번역본을 PDF로 다운로드할 수 있는 기능을 제공합니다.

        유료회원의 번역본 URL은 영구적으로 유지하고, 무료회원의 URL은 일정 기간만 접근 가능하도록 설정합니다.

    - 문서내 이미지를 어떻게 보존하면서 원래의 위치에 넣어주는 기능이 섬세하게 작동하도록 개선해야함.

    - 향후 프로젝트의 배포시 도서 저작권 분쟁이 발생하지 않도록 사용자에게 저작권에 대한 주의와 확인을 받야아합니다. 반드시 본인이 구매하거나 소유한 도서를 이용하도록 하고, 법적분쟁의 책임이 사용자에게 있음을 확인받습니다. 

    - 제품 방향 : 두가지 출력모드 (Booky | readable)

        정밀 모드 (Faithful HTML): Booky 모드라고도 불림. 현재 혼재되어 사용되고 있음. 일관성이 있게 정리할 필요가 있음. 원본 레이아웃을 최대한 보존. absolute 좌표·z-index 중심(캡션, 각주, 난삽한 표 포함). 아카이빙/출판용.

        가독 모드 (Responsive HTML): Readable 모드라고도 함. 의미 구조 중심 재조립(문단/목차/표/그림/각주로 분해 → CSS Grid/Flex로 반응형 재배치). 공백·단 나눔 제거, 모바일 최적화.

    - 서비스 홍보를 위한 Features, Pricing 페이지 작성할 예정

    - 결제 로직이 구현되어있는 api.mikihands.com 서버에게 결제 요청을 보내고 응답을 받아 처리하는 로직을 구현해야함. 

    - 현재 OCR처리되지 않은 PDF를 처리하도록만 구현되어 있으나, OCR 처리가 되어있는 PDF를 처리할 수 있도록 기능을 확장해야함. 